(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{96:function(e,t,a){},97:function(e,t,a){"use strict";a.r(t);var c=a(0),r=a(24),n=a.n(r),s=a(5),o=a(21),i=a(50),l="[Auth] Login",d="[Auth] Logout",j="[Heroes] Add Data",b="[Heroes] Show Hero",u="[Heroes] Add Error",h="[Heroes] Remove",m=JSON.parse(localStorage.getItem("token"))?{logged:!0}:{logged:!1},O=a(37),p=a(6),x={teamHero:[],showHero:{}},g="object"===typeof window&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__({}):o.c,f=Object(o.b)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:m,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case l:return{logged:c};case d:return{};default:return e}},heroes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:x,t=arguments.length>1?arguments[1]:void 0,a=t.type,c=t.payload;switch(a){case j:return Object(p.a)(Object(p.a)({},e),{},{teamHero:[].concat(Object(O.a)(e.teamHero),[c])});case h:var r=e.teamHero,n=r.filter((function(e){return e!==c}));return Object(p.a)(Object(p.a)({},e),{},{teamHero:Object(O.a)(n)});case b:return Object(p.a)(Object(p.a)({},e),{},{showHero:c});case u:return Object(p.a)({},e);default:return e}}}),v=g(Object(o.a)(i.a)),y=Object(o.d)(f,v),N=a(13),w=a(2),_=a(19),k=a.n(_),S=a(26),E=a(14),H=a(30),A=function(e){var t={type:l,payload:!0};return localStorage.setItem("token",JSON.stringify(e)),t},T=a(29),C=a.n(T),G=function(){var e=Object(S.a)(k.a.mark((function e(t,a){var c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,C.a.post("".concat("https://heroes-alkemy.herokuapp.com/api/").concat(t),a);case 3:return c=e.sent,e.abrupt("return",c);case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(t,a){return e.apply(this,arguments)}}(),L=a(1),P=function(){var e=Object(c.useState)(!1),t=Object(E.a)(e,2),a=t[0],r=t[1],n=Object(c.useState)(!1),o=Object(E.a)(n,2),i=o[0],l=o[1],d=Object(s.b)(),j=Object(w.g)().push;return Object(L.jsx)(H.a,{initialValues:{email:"",password:""},onSubmit:function(){var e=Object(S.a)(k.a.mark((function e(t){var a,c;return k.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return l(!0),e.prev=1,e.next=4,G("login",t);case 4:a=e.sent,(c=a.data).token?(d(A(c)),j("/home"),l(!1)):(r(!0),l(!1)),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0),r(!0),l(!1);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(t){return e.apply(this,arguments)}}(),validate:function(e){var t={};return e.email?e.email.length<2?t.email="Email too short":/^[a-zA-Z0-9_.+-]+@[a-zA-Z0-9-]+\.[a-zA-Z0-9-.]+$/.test(e.email)||(t.email="The email can't contains spaces and simbols"):t.email="Please complete the space",e.password?e.password.length<1?t.password="password too short":/^[a-zA-Z\xc0-\xff\s]{1,40}$/.test(e.password)||(t.password="The password can't contains simbols and numbers"):t.password="Please complete the space",t},children:function(e){var t=e.values,c=e.handleChange,r=e.handleBlur,n=e.handleSubmit,s=e.errors,o=e.touched;return Object(L.jsxs)("form",{className:"auth d-flex flex-column justify-content-center align-items-center",onSubmit:n,children:[Object(L.jsxs)("div",{className:"container w-50 rounded-3 brightGrey from__container",children:[Object(L.jsxs)("div",{className:"mb-3 row",children:[Object(L.jsx)("label",{htmlFor:"staticEmail",className:"col-12 col-form-label text-orange brightGrey",children:"Email*"}),Object(L.jsxs)("div",{className:"col-12 brightGrey",children:[Object(L.jsx)("input",{autoComplete:"off",className:"form-control bg-dark text-light mb-3 brightGrey",id:"staticEmail",name:"email",value:t.email,type:"text",placeholder:"email@email.com",onBlur:r,onChange:c}),o.email&&s.email&&Object(L.jsx)("h1",{className:"fs-6 text-danger brightGrey",children:s.email})]})]}),Object(L.jsxs)("div",{className:"mb-3 row",children:[Object(L.jsx)("label",{htmlFor:"inputPassword",className:"col-12 col-form-label text-orange brightGrey",children:"Password*"}),Object(L.jsxs)("div",{className:"col-12 brightGrey",children:[Object(L.jsx)("input",{autoComplete:"off",className:"form-control bg-dark text-light mb-3",name:"password",id:"inputPassword",value:t.password,type:"password",placeholder:"password",onBlur:r,onChange:c}),o.password&&s.password&&Object(L.jsx)("h1",{className:"fs-6 text-danger brightGrey",children:s.password}),a&&Object(L.jsx)("h1",{className:"fs-6 text-danger brightGrey",children:"Password or email wrong"})]})]}),Object(L.jsx)("div",{className:"row button__container brightGrey p-5",children:i?Object(L.jsx)("div",{class:"spinner-border text-danger m-auto",role:"status",children:Object(L.jsx)("span",{class:"visually-hidden",children:"Loading..."})}):Object(L.jsx)("button",{className:"btn btn-red-orange col-12 m-auto w-50",type:"submit",children:"Login"})})]}),Object(L.jsx)("div",{className:"accordion mt-4",id:"accordionExample",children:Object(L.jsxs)("div",{className:"accordion-item",children:[Object(L.jsx)("h2",{className:"accordion-header",id:"headingOne",children:Object(L.jsx)("div",{className:"accordion-button collapsed","data-bs-toggle":"collapse","data-bs-target":"#collapseOne","aria-expanded":"true","aria-controls":"collapseOne",children:"Want to met inside? Click me!"})}),Object(L.jsx)("div",{id:"collapseOne",className:"accordion-collapse collapse","aria-labelledby":"headingOne","data-bs-parent":"#accordionExample",children:Object(L.jsxs)("div",{className:"accordion-body",children:[Object(L.jsx)("h1",{className:"fs-6 help-text",children:"USER: challenge@alkemy.org"}),Object(L.jsx)("h1",{className:"fs-6 help-text",children:"PASSWORD: react"})]})})]})})]})}})},I=a(32),D=a.n(I),z=function(e,t){var a=t.filter((function(t){return t===e})),c=Object(E.a)(a,1)[0],r=t.filter((function(t){return t.biography.alignment===e.biography.alignment}));return c===e?(D.a.fire({icon:"error",title:"Oops...",text:"You already have this character"}),{type:u}):6===t.length?(D.a.fire({icon:"error",title:"Oops...",text:"You already have 6 characters"}),{type:u}):3===r.length?(D.a.fire({icon:"error",title:"Oops...",text:"you already have 3 characters with this align"}),{type:u}):{type:j,payload:e}},R=function(){var e=Object(s.b)();return Object(L.jsx)("div",{children:Object(L.jsx)("nav",{className:"navbar navbar-expand-lg nav__container",children:Object(L.jsxs)("div",{className:"container-fluid",children:[Object(L.jsx)("div",{className:"navbar-brand",children:Object(L.jsxs)(N.b,{to:"/home",className:"navbar-brand nav__item",children:[Object(L.jsx)("i",{className:"fas fa-mask navbar-brand nav__item"}),"Home"]})}),Object(L.jsx)(N.b,{to:"/auth",className:"btn btn-red-orange",onClick:function(){e(function(){var e={type:d,payload:!1};return localStorage.removeItem("token"),e}())},children:"Logout"})]})})})},B=function(){var e=Object(s.b)(),t=Object(s.c)((function(e){return e.heroes.teamHero})),a=Object(s.c)((function(e){return e.heroes.showHero})),c=a.appearance,r=a.biography,n=a.name,o=a.work,i=a.image,l=c.weight[1],d=c.height[1],j=r.aliases,b=c["eye-color"],u=c["hair-color"];return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(R,{}),Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("hr",{}),Object(L.jsx)("div",{className:"row w-100",children:Object(L.jsx)("div",{className:"col-12 col-lg-6 m-auto",children:Object(L.jsx)("div",{className:"card__style ",children:Object(L.jsxs)("div",{className:"card w-100 m-auto",style:{width:"100%"},children:[Object(L.jsx)("img",{src:i.url,className:"card-img-top m-auto mt-3",alt:"..."}),Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title",children:n}),Object(L.jsxs)("p",{className:"card-text",children:["Aliases: ",j.map((function(e){return Object(L.jsxs)("span",{children:['"',e,'", ']},e)}))]})]}),Object(L.jsxs)("ul",{className:"list-group list-group-flush brightGrey",children:[Object(L.jsxs)("li",{className:"list-group-item brightGrey text-light",children:["Weight: ",l]}),Object(L.jsxs)("li",{className:"list-group-item brightGrey text-light",children:["Height: ",d]}),Object(L.jsxs)("li",{className:"list-group-item brightGrey text-light",children:["Eyes color: ",b]}),Object(L.jsxs)("li",{className:"list-group-item brightGrey text-light",children:["Hair color: ",u]}),Object(L.jsxs)("li",{className:"list-group-item brightGrey text-light",children:['Localization: "',o.base,'"']})]}),Object(L.jsxs)("div",{className:"card-body d-flex justify-content-between",children:[Object(L.jsx)(N.b,{className:"btn btn-red-orange",to:"/home",children:"Back"}),Object(L.jsx)(N.b,{className:"btn btn-outline-success",onClick:function(){e(z(a,t))},to:"/home",children:"Add"})]})]})})})})]})]})},F=function(e){var t=e.data,a=e.conditional,r=e.numberTeam,n=Object(c.useState)(6),o=Object(E.a)(n,2),i=o[0],l=o[1],d=Object(s.c)((function(e){return e.heroes.teamHero})),j=Object(s.b)(),u=t.name,m=t.image;return Object(c.useEffect)((function(){l(r<=2?6:r<=3?4:2)}),[r]),Object(L.jsx)("div",{className:"col-12 col-xl-".concat(i," pb-4 m-auto"),children:Object(L.jsx)("div",{className:"card__style m-auto",children:Object(L.jsxs)("div",{className:"card w-100",style:{width:"100%"},children:[Object(L.jsx)("img",{src:m.url,className:"card-img-top m-auto mt-3",alt:u}),Object(L.jsxs)("div",{className:"card-body",children:[Object(L.jsx)("h5",{className:"card-title mb-3",children:u}),Object(L.jsxs)("div",{className:"card-body row",children:[Object(L.jsx)(N.b,{className:"btn btn-red-orange m-auto",onClick:function(){j(function(e){return{type:b,payload:e}}(t))},to:"./hero/".concat(u),children:"Look"}),a?Object(L.jsx)("button",{className:"btn btn-outline-success m-auto",onClick:function(){j(z(t,d))},children:"Add"}):Object(L.jsx)("button",{className:"btn btn-outline-danger m-auto",onClick:function(){j(function(e){return{type:h,payload:e}}(t))},children:" Remove"})]})]})]})})})},Z=function(e){var t=e.heroes,a=e.conditional,c=e.lengthTeam,r=void 0===c?6:c;return Object(L.jsx)(L.Fragment,{children:Object(L.jsx)("div",{className:"row w-100 p-4 m-auto",children:t.map((function(e,t){return Object(L.jsx)(F,{data:e,conditional:a,numberTeam:r},"".concat(e).concat(t))}))})})},J=function(){var e=Object(c.useState)([]),t=Object(E.a)(e,2),a=t[0],r=t[1];return Object(L.jsx)(H.a,{initialValues:{searchText:""},validate:function(e){var t={};return/^[a-zA-Z\xc0-\xff\s]{1,40}$/.test(e.searchText)||(t.searchText="El nombre del h\xe9roe solo debe contener letras"),t},children:function(e){var t=e.values,c=e.handleChange,n=e.errors;return Object(L.jsxs)("div",{className:"container",children:[Object(L.jsxs)("div",{className:"row w-100",children:[Object(L.jsx)("h1",{children:" Search"}),Object(L.jsx)("hr",{}),Object(L.jsx)("input",{autoComplete:"off",className:"form-control form-control-lg bg-dark text-light mb-3",type:"text",name:"searchText",id:"searchText",value:t.searchText,placeholder:"Search a hero","aria-label":".form-control-lg example",onChange:function(e){return function(e,t,a){t(e);var c=a.value.toLowerCase();try{return C.a.get("https://superheroapi.com/api.php/117518734017873/search/".concat(c)).then((function(e){return r(e.data)})).catch((function(e){return console.log(e)}))}catch(n){console.log(n)}}(e,c,e.target)}}),n.searchText&&Object(L.jsx)("h4",{className:"fs-6 text-danger",children:n.searchText}),Object(L.jsx)("hr",{})]}),"success"!==a.response||n.searchText?Object(L.jsx)("h4",{className:"fs-6 text-danger",children:a.error}):Object(L.jsx)(Z,{heroes:a.results,conditional:!0})]})}})},V=function(){var e=Object(s.c)((function(e){return e.heroes})).teamHero,t=function(e){var t=function(e,t){return parseInt(e)+parseInt(t)};return[{type:"Intelligence",value:e.map((function(e){return e.powerstats.intelligence})).reduce(t)},{type:"Combat",value:e.map((function(e){return e.powerstats.combat})).reduce(t)},{type:"Durability",value:e.map((function(e){return e.powerstats.durability})).reduce(t)},{type:"Power",value:e.map((function(e){return e.powerstats.power})).reduce(t)},{type:"Speed",value:e.map((function(e){return e.powerstats.intelligence})).reduce(t)},{type:"Strength",value:e.map((function(e){return e.powerstats.strength})).reduce(t)}]}(e).sort((function(e,t){return e.value<t.value?1:e.value>t.value?-1:0}));return Object(L.jsxs)("div",{className:"container",children:[Object(L.jsx)("div",{className:"row w-100",children:Object(L.jsx)("div",{className:"col-6",children:t.map((function(e){return Object(L.jsxs)("h5",{className:"text-orange",children:[" ",e.type,": ",e.value]},e.type)}))})}),Object(L.jsx)("hr",{}),Object(L.jsx)(Z,{heroes:e,conditional:!1,lengthTeam:e.length})]})},X=function(){var e=Object(s.c)((function(e){return e.heroes})).teamHero;return Object(L.jsxs)(L.Fragment,{children:[Object(L.jsx)(R,{}),Object(L.jsx)("hr",{}),void 0===e[0]?Object(L.jsxs)("div",{className:"container text-orange m-auto fs-1",children:["Haven't team yet! ",Object(L.jsx)("br",{}),Object(L.jsx)("i",{className:"fas fa-frown text-orange"})]}):Object(L.jsx)(V,{}),Object(L.jsx)("hr",{}),Object(L.jsx)(J,{})]})},U=function(){return Object(L.jsx)(N.a,{children:Object(L.jsx)("div",{className:"screen darkGrey",children:Object(L.jsxs)(w.d,{children:[Object(L.jsx)(w.b,{exact:!0,path:"/home",component:X}),Object(L.jsx)(w.b,{exact:!0,path:"/hero/:heroName",component:B}),Object(L.jsx)(w.a,{to:"/home",component:X})]})})})},W=a(31),$=function(e){var t=e.isAuth,a=e.component,c=Object(W.a)(e,["isAuth","component"]);return Object(L.jsx)(w.b,Object(p.a)(Object(p.a)({},c),{},{component:function(e){return t?Object(L.jsx)(a,Object(p.a)({},e)):Object(L.jsx)(w.a,{to:"/auth"})}}))},M=function(e){var t=e.isAuth,a=e.component,c=Object(W.a)(e,["isAuth","component"]);return Object(L.jsx)(w.b,Object(p.a)(Object(p.a)({},c),{},{component:function(e){return t?Object(L.jsx)(w.a,{to:"/"}):Object(L.jsx)(a,Object(p.a)({},e))}}))},Y=function(){var e=Object(s.c)((function(e){return e.auth})).logged;return Object(L.jsx)(N.a,{basename:"/heroesapp",children:Object(L.jsx)("div",{className:"body",children:Object(L.jsxs)(w.d,{children:[Object(L.jsx)(M,{path:"/auth",component:P,isAuth:e}),Object(L.jsx)($,{path:"/",component:U,isAuth:e})]})})})},q=(a(96),function(){return Object(L.jsx)(s.a,{store:y,children:Object(L.jsx)(Y,{})})});n.a.render(Object(L.jsx)(q,{}),document.getElementById("root"))}},[[97,1,2]]]);
//# sourceMappingURL=main.65084238.chunk.js.map